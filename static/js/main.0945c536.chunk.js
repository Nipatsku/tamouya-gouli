(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{375:function(e,t,n){e.exports=n(897)},380:function(e,t,n){},897:function(e,t,n){"use strict";n.r(t);var a=n(88),r=n(89),o=n(94),c=n(90),i=n(96),l=n(1),s=n(7),u=(n(380),n(116)),f=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.createElement(u.Spin,{size:"large",className:"absoluteCenter"})}}]),t}(l.Component),h=function(e){return e.body.getReader().read().then(function(e){return e})},p=function(e){var t=new Blob([e.value],{type:"audio/mp3"}),n=window.URL.createObjectURL(t),a=new Audio;a.src=n,a.play()},d=n(907),m=u.Typography.Title,g=u.Typography.Text,v="".concat("https://9ef955ff.ngrok.io",":").concat(Object({NODE_ENV:"production",PUBLIC_URL:"/tamouya-gouli",REACT_APP_SERVER_IP:"https://9ef955ff.ngrok.io"}).REACT_APP_SERVER_PORT?Object({NODE_ENV:"production",PUBLIC_URL:"/tamouya-gouli",REACT_APP_SERVER_IP:"https://9ef955ff.ngrok.io"}).REACT_APP_SERVER_PORT:"");console.log(v);var E=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).refSoumah=void 0,n.handleServerError=function(e){console.error(e),console.log("Server offline?"),n.setState({serverState:"offline"})},n.connect(),n.refSoumah=l.createRef(),n.state={serverState:"loading",applicationState:void 0,unsupportedLanguageCodes:void 0},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"connect",value:function(){var e=this;fetch(v+"/u-there",{mode:"cors"}).then(function(e){return e.text()}).then(function(t){"we here"===t&&(console.log("Server online"),e.setState({serverState:"online"}),e.getApplicationState())}).catch(this.handleServerError)}},{key:"getApplicationState",value:function(){var e=this;fetch(v+"/state",{mode:"cors"}).then(function(e){return e.json()}).then(function(t){e.setState({applicationState:t}),e.sortUnsupportedTextToSpeech()}).catch(this.handleServerError)}},{key:"sortUnsupportedTextToSpeech",value:function(){var e=this;fetch(v+"/unsupported-languages-text-to-speech",{mode:"cors"}).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({unsupportedLanguageCodes:t.map(function(e){return e.languageCode})})}).catch(this.handleServerError)}},{key:"playResultSound",value:function(e){fetch(v+"/text-to-speech?text=".concat(e.local,"&languageCode=").concat(e.language.Code)).then(h).then(p).catch(function(e){console.error(e)})}},{key:"componentDidMount",value:function(){var e=this,t=window.performance.now();!function n(){var a=e.refSoumah.current;if(a){var r=2*(window.performance.now()-t)/1e3,o=25*-Math.sin(r),c=5*Math.sin(r)-10,i=1+.15*Math.sin(2*r),l=150*Math.sin(r)-100,s=40+100*Math.abs(Math.sin(r)),u="";u+="translateX(".concat(l,"px) translateY(").concat(s,"px) "),u+="rotateX(".concat(0,"deg) rotateY(").concat(o,"deg) rotateZ(").concat(c,"deg) "),u+="skewX(".concat(0,"deg) skewY(").concat(0,"deg) "),u+="scaleX(".concat(i,") scaleY(").concat(i,") "),a.style.transform=u,requestAnimationFrame(n)}}()}},{key:"render",value:function(){var e=this.state.serverState;return l.createElement("div",{className:"expand"},l.createElement("div",{className:"backgroundDiv"},l.createElement("img",{className:"background",src:"wandelsoumah_bg.png"}),l.createElement("img",{className:"soumah",src:"wandelsoumah_avatar.png",ref:this.refSoumah})),"loading"===e?l.createElement(f,null):l.createElement("div",{className:"main"},"offline"===e?l.createElement(g,null,'Server is offline... more "aamuja" some other time'):this.renderServerOnline()))}},{key:"renderServerOnline",value:function(){var e=this.state.applicationState;return l.createElement("div",null,e&&this.renderApplicationState(e))}},{key:"renderApplicationState",value:function(e){var t=this,n=this.state.unsupportedLanguageCodes,a=e.inputLanguage,r=e.input,o=e.results,c=function(e){return void 0===n||!n.includes(e.language.Code)},i=o.filter(c).concat(o.filter(function(e){return!c(e)}));return l.createElement("div",{className:"column"},l.createElement(m,{level:3},"Official translations for..."),l.createElement("div",{className:"row listStart"},l.createElement(g,{className:"speechAsText"},'"',r,'"')),i.map(function(e,n){return l.createElement("div",{className:"row",key:n},l.createElement(g,null,e.language.Name,":"),l.createElement(g,{className:"speechAsText"},e.local),c(e)&&l.createElement(d.a,{onClick:function(){return t.playResultSound(e)}}),a===e.language&&l.createElement(g,null,"(",e.translation,")"))}))}}]),t}(l.Component),S=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.createElement(E,null)}}]),t}(l.Component),b=document.getElementById("root");Object(s.render)(l.createElement(S,null),b)}},[[375,2,1]]]);
//# sourceMappingURL=main.0945c536.chunk.js.map